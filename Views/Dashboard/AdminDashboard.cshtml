@{
    ViewData["Title"] = "Admin Paneli";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid mt-4">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2><i class="fas fa-user-shield text-danger me-2"></i>Yönetici Paneli</h2>
                <span class="badge bg-danger fs-6">Hoş geldiniz, @ViewBag.UserName</span>
            </div>
        </div>
    </div>

    <!-- İstatistik Kartları -->
    <div class="row mb-4">
        <div class="col-md-3 mb-3">
            <div class="card bg-primary text-white h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <h5 class="card-title">Toplam Kullanıcı</h5>
                            <h2 class="mb-0">@ViewBag.TotalUsers</h2>
                        </div>
                        <div class="align-self-center">
                            <i class="fas fa-users fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card bg-success text-white h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <h5 class="card-title">Aktif Doktorlar</h5>
                            <h2 class="mb-0">@ViewBag.TotalDoctors</h2>
                        </div>
                        <div class="align-self-center">
                            <i class="fas fa-user-md fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card bg-info text-white h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <h5 class="card-title">Hemşireler</h5>
                            <h2 class="mb-0">@ViewBag.TotalNurses</h2>
                        </div>
                        <div class="align-self-center">
                            <i class="fas fa-user-nurse fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card bg-warning text-white h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <h5 class="card-title">Toplam Randevu</h5>
                            <h2 class="mb-0">@ViewBag.TotalAppointments</h2>
                        </div>
                        <div class="align-self-center">
                            <i class="fas fa-calendar-alt fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sistem Yönetimi -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-cog me-2"></i>Sistem Yönetimi</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 mb-2">
                            <a href="/User/Index" class="btn btn-primary w-100">
                                <i class="fas fa-users me-2"></i>Kullanıcı Yönetimi
                            </a>
                        </div>
                        <div class="col-md-3 mb-2">
                            <a href="/User/Create" class="btn btn-success w-100">
                                <i class="fas fa-user-plus me-2"></i>Yeni Kullanıcı
                            </a>
                        </div>
                        <div class="col-md-3 mb-2">
                            <a href="/Appointment/Index" class="btn btn-info w-100">
                                <i class="fas fa-calendar me-2"></i>Randevu Yönetimi
                            </a>
                        </div>
                        <div class="col-md-3 mb-2">
                            <a href="/Medicine/Index" class="btn btn-warning w-100">
                                <i class="fas fa-pills me-2"></i>İlaç Yönetimi
                            </a>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-3 mb-2">
                            <a href="/Prescription/Index" class="btn btn-secondary w-100">
                                <i class="fas fa-prescription me-2"></i>Reçete Yönetimi
                            </a>
                        </div>
                        <div class="col-md-3 mb-2">
                            <a href="/Treatment/Index" class="btn btn-dark w-100">
                                <i class="fas fa-notes-medical me-2"></i>Tedavi Yönetimi
                            </a>
                        </div>
                        <div class="col-md-3 mb-2">
                            <button class="btn btn-danger w-100" onclick="if(confirm('Sistem verilerini sıfırlamak istediğinizden emin misiniz?')) { alert('Bu özellik henüz aktif değil'); }">
                                <i class="fas fa-database me-2"></i>Veri Sıfırla
                            </button>
                        </div>
                        <div class="col-md-3 mb-2">
                            <button class="btn btn-outline-primary w-100" onclick="window.print()">
                                <i class="fas fa-file-export me-2"></i>Rapor Al
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- İstatistikler ve Sistem Durumu -->
    <div class="row">
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Sistem İstatistikleri</h5>
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">Toplam Hasta</h6>
                            <small class="text-muted">Sisteme kayıtlı hastalar</small>
                        </div>
                        <span class="badge bg-primary fs-6">@ViewBag.TotalPatients</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">Bu Ay Randevular</h6>
                            <small class="text-muted">Bu ay alınan randevular</small>
                        </div>
                        <span class="badge bg-success fs-6">@ViewBag.MonthlyAppointments</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">Aktif Reçeteler</h6>
                            <small class="text-muted">Devam eden tedaviler</small>
                        </div>
                        <span class="badge bg-info fs-6">@ViewBag.ActivePrescriptions</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">İlaç Stoku</h6>
                            <small class="text-muted">Toplam ilaç türü</small>
                        </div>
                        <span class="badge bg-warning fs-6">@ViewBag.MedicineStock</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-server me-2"></i>Sistem Durumu</h5>
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">Veritabanı Bağlantısı</h6>
                            <small class="text-muted">MongoDB Atlas</small>
                        </div>
                        <span class="badge bg-success">Aktif</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">Sistem Performansı</h6>
                            <small class="text-muted">CPU ve Memory kullanımı</small>
                        </div>
                        <span class="badge bg-success">Normal</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">Son Yedekleme</h6>
                            <small class="text-muted">Veri yedekleme durumu</small>
                        </div>
                        <span class="badge bg-info">@DateTime.Now.ToString("dd.MM.yyyy")</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                        <div>
                            <h6 class="mb-1">Aktif Kullanıcılar</h6>
                            <small class="text-muted">Şu an online</small>
                        </div>
                        <span class="badge bg-primary">@ViewBag.OnlineUsers</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        border: none;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        transition: all 0.15s ease-in-out;
    }

    .card:hover {
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }

    .opacity-75 {
        opacity: 0.75;
    }
</style>
